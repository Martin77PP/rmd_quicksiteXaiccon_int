---
title: "evoluzione mercato 14-19"
author: "mat"
date: "8/23/2021"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## R Markdown

This is an R Markdown document. Markdown is a simple formatting syntax for authoring HTML, PDF, and MS Word documents. For more details on using R Markdown see <http://rmarkdown.rstudio.com>.

When you click the **Knit** button a document will be generated that includes both content as well as the output of any embedded R code chunks within the document. You can embed an R code chunk like this:

```{r cars}
library(readr)
library(ggplot2)
library(data.table)
library(plotly)
ID_5651 <- read_csv("inps/ID-5651.csv")
ID_5585 <- read_csv("inps/ID-5585.csv")
```
summary dt

```{r ID_5585, "out.width"=1200, "out.height"=800}
summary(ID_5585)
variazioni_dt <- as.data.table(ID_5585)

variazioni_dt[,max(Numero_variazioni),.(Regione,Tipologia_variazione,tipologia_incentivo,NazionalitÃ )]

fig <- plot_ly(variazioni_dt[Numero_variazioni<100], x = ~Numero_variazioni, color = ~Tipologia_variazione, type = "box")
fig
```



## Including Plots

You can also embed plots, for example:

```{r pressure, echo=FALSE, "out.width"=1200, "out.height"=800}
ggplot(ID_5651, aes(`Posizione Prevalente`,Lavoratori)) + geom_col(aes(fill=Cittadinanza), position = "dodge") + facet_grid(vars(Anno))
```

Note that the `echo = FALSE` parameter was added to the code chunk to prevent printing of the R code that generated the plot.
